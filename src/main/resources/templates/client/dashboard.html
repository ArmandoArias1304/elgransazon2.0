<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>El Gran Sazón - Mi Cuenta</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@300;400;500;600;700"
      rel="stylesheet"
    />
    <!-- Sistema de Temas (Modo Claro/Oscuro) -->
    <div th:replace="~{fragments/theme :: themeResources}"></div>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#38e07b",
              "primary-dark": "#2bc866",
              "background-light": "#f8fafc",
              "background-dark": "#0f172a",
              "surface-light": "#ffffff",
              "surface-dark": "#1e293b",
              "text-light-primary": "#1e293b",
              "text-light-secondary": "#64748b",
              "dark-primary": "#f1f5f9",
              "dark-secondary": "#cbd5e1",
            },
            fontFamily: {
              display: ["Work Sans", "sans-serif"],
            },
          },
        },
      };
    </script>

    <style>
      /* Animaciones suaves */
      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes scaleIn {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .animate-fadeInDown {
        animation: fadeInDown 0.6s ease-out;
      }

      .animate-fadeInUp {
        animation: fadeInUp 0.6s ease-out;
      }

      .animate-scaleIn {
        animation: scaleIn 0.5s ease-out;
      }

      /* Efectos de hover mejorados */
      .dashboard-card {
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }

      .dashboard-card:hover {
        transform: translateY(-8px) scale(1.02);
      }

      .dashboard-card:active {
        transform: translateY(-4px) scale(1.01);
      }
    </style>
  </head>
  <body
    class="bg-gradient-to-br from-background-light to-gray-50 dark:from-background-dark dark:to-gray-900 font-display min-h-screen"
  >
    <!-- NAVIGATION BAR -->
    <nav
      class="bg-gradient-to-r from-primary to-primary-dark shadow-lg animate-fadeInDown"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16 sm:h-20">
          <!-- Logo -->
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 sm:w-12 sm:h-12 bg-white rounded-xl flex items-center justify-center shadow-lg"
            >
              <svg
                class="w-6 h-6 sm:w-7 sm:h-7 text-primary"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                <path
                  fill-rule="evenodd"
                  d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z"
                  clip-rule="evenodd"
                ></path>
              </svg>
            </div>
            <div class="hidden sm:block">
              <h1 class="text-xl sm:text-2xl font-bold text-white">
                El Gran Sazón
              </h1>
              <p class="text-xs sm:text-sm text-white/90">Panel de Cliente</p>
            </div>
          </div>

          <!-- User Menu -->
          <div class="flex items-center gap-3">
            <!-- User Info -->
            <div class="hidden sm:flex items-center gap-2 text-white">
              <span class="material-symbols-outlined">account_circle</span>
              <span th:text="${customer.fullName}">Usuario</span>
            </div>

            <!-- Logout Button -->
            <form th:action="@{/logout}" method="post" class="inline">
              <button
                type="submit"
                class="flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-xl font-semibold transition-all"
              >
                <span class="material-symbols-outlined text-xl">logout</span>
                <span class="hidden sm:inline">Cerrar Sesión</span>
              </button>
            </form>
          </div>
        </div>
      </div>
    </nav>

    <!-- MAIN CONTENT -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">
      <!-- WELCOME CARD -->
      <div
        class="rounded-3xl bg-white dark:bg-gray-900 shadow-xl p-8 sm:p-12 text-center mb-8 sm:mb-12 border border-gray-200 dark:border-gray-800 animate-scaleIn"
      >
        <div class="mb-4">
          <div
            class="w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center mx-auto shadow-2xl shadow-primary/30"
          >
            <span
              class="material-symbols-outlined text-5xl sm:text-6xl text-white"
            >
              restaurant_menu
            </span>
          </div>
        </div>
        <h1
          class="text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-3"
        >
          ¡Bienvenido, <span th:text="${customer.fullName}">Cliente</span>!
        </h1>
        <p
          class="text-base sm:text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto"
        >
          Gestiona tus pedidos y perfil desde aquí
        </p>
      </div>

      <!-- STATISTICS CARDS -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8">
        <!-- Total Orders -->
        <div
          class="rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 p-6 text-white shadow-xl animate-fadeInUp"
          style="animation-delay: 0.1s"
        >
          <div class="flex items-center justify-between">
            <div>
              <p class="text-blue-100 text-sm font-semibold mb-1">
                Total de Pedidos
              </p>
              <p class="text-4xl font-black" th:text="${totalOrders}">0</p>
            </div>
            <div
              class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center"
            >
              <span class="material-symbols-outlined text-4xl">
                shopping_bag
              </span>
            </div>
          </div>
        </div>

        <!-- Active Orders -->
        <div
          class="rounded-2xl bg-gradient-to-br from-orange-500 to-orange-600 p-6 text-white shadow-xl animate-fadeInUp"
          style="animation-delay: 0.15s"
        >
          <div class="flex items-center justify-between">
            <div>
              <p class="text-orange-100 text-sm font-semibold mb-1">
                Pedidos Activos
              </p>
              <p class="text-4xl font-black" th:text="${activeOrders}">0</p>
            </div>
            <div
              class="w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center"
            >
              <span class="material-symbols-outlined text-4xl">
                local_shipping
              </span>
            </div>
          </div>
        </div>
      </div>

      <!-- DASHBOARD GRID -->
      <div
        class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6"
      >
        <!-- CARD 1: Crear Pedido -->
        <a
          href="/client/menu"
          class="dashboard-card block rounded-3xl bg-white dark:bg-gray-900 shadow-lg hover:shadow-2xl border border-gray-200 dark:border-gray-800 p-6 sm:p-8 text-center animate-fadeInUp"
          style="animation-delay: 0.2s"
        >
          <div class="flex flex-col items-center">
            <div class="mb-4">
              <span
                class="material-symbols-outlined text-6xl sm:text-7xl text-green-500"
              >
                add_shopping_cart
              </span>
            </div>
            <h3
              class="text-lg sm:text-xl font-bold text-gray-900 dark:text-white mb-2"
            >
              Crear Pedido
            </h3>
            <p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400">
              Explora nuestro menú y crea un nuevo pedido
            </p>
          </div>
        </a>

        <!-- CARD 2: Mis Pedidos -->
        <a
          href="/client/orders"
          class="dashboard-card block rounded-3xl bg-white dark:bg-gray-900 shadow-lg hover:shadow-2xl border border-gray-200 dark:border-gray-800 p-6 sm:p-8 text-center animate-fadeInUp"
          style="animation-delay: 0.25s"
        >
          <div class="flex flex-col items-center">
            <div class="mb-4">
              <span
                class="material-symbols-outlined text-6xl sm:text-7xl text-blue-500"
              >
                receipt_long
              </span>
            </div>
            <h3
              class="text-lg sm:text-xl font-bold text-gray-900 dark:text-white mb-2"
            >
              Mis Pedidos
            </h3>
            <p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400">
              Consulta el historial y estado de tus pedidos
            </p>
          </div>
        </a>

        <!-- CARD 3: Mi Perfil -->
        <a
          href="/client/profile"
          class="dashboard-card block rounded-3xl bg-white dark:bg-gray-900 shadow-lg hover:shadow-2xl border border-gray-200 dark:border-gray-800 p-6 sm:p-8 text-center animate-fadeInUp"
          style="animation-delay: 0.3s"
        >
          <div class="flex flex-col items-center">
            <div class="mb-4">
              <span
                class="material-symbols-outlined text-6xl sm:text-7xl text-purple-500"
              >
                account_circle
              </span>
            </div>
            <h3
              class="text-lg sm:text-xl font-bold text-gray-900 dark:text-white mb-2"
            >
              Mi Perfil
            </h3>
            <p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400">
              Actualiza tu información personal y dirección
            </p>
          </div>
        </a>

        <!-- CARD 4: Mi Reseña -->
        <a
          href="/client/review"
          class="dashboard-card block rounded-3xl bg-white dark:bg-gray-900 shadow-lg hover:shadow-2xl border border-gray-200 dark:border-gray-800 p-6 sm:p-8 text-center animate-fadeInUp"
          style="animation-delay: 0.35s"
        >
          <div class="flex flex-col items-center">
            <div class="mb-4">
              <span
                class="material-symbols-outlined text-6xl sm:text-7xl text-orange-500"
              >
                rate_review
              </span>
            </div>
            <h3
              class="text-lg sm:text-xl font-bold text-gray-900 dark:text-white mb-2"
            >
              Mi Reseña
            </h3>
            <p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400">
              Comparte tu experiencia con nosotros
            </p>
          </div>
        </a>
      </div>

      <!-- FOOTER INFO -->
      <div
        class="mt-12 text-center text-sm text-gray-500 dark:text-gray-400 animate-fadeInUp"
        style="animation-delay: 0.4s"
      >
        <p>Sistema de Gestión de Restaurante - El Gran Sazón &copy; 2024</p>
      </div>
    </div>

    <!-- Script del Sistema de Temas -->
    <div th:replace="~{fragments/theme :: themeScript}"></div>
  </body>
</html>
